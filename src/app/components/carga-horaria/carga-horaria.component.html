<h3 class="text-center text-secondary pt-3">DISTRIBUTIVOS</h3>

<label class="badge badge-primary">Periodo Lectivo</label>
<div>{{periodo.periodo_academico}}</div>
<br>

<!--
<div class="card">
    <div class="card-header  text-white bg-secondary">Buscar Docentes</div>
    <div class="card-body">

        <form>

            <mat-form-field class="w-100">
                <label class="font-weight-bold">Periodo:</label>
                <mat-select [(value)]="periodo">
                    <mat-option [value]="undefined">--- Seleccione un Periodo ---</mat-option>
                    <mat-option *ngFor="let p of periodos" [value]="p">{{p.periodo_academico}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <button (click)="cargarDocentes()" style="width: 100%;" class="btn btn-info">
                <i class="fas fa-download"></i>
                Cargar Docentes
            </button>

        </form>

    </div>
</div>
-->

<h4 class="text-secondary pb-2">Docentes</h4>
<div class="alert" style="background: #fff3cd;" role="alert" *ngIf="docentes.length==0">
    No se a encontrado ninguna carga horaria
</div>

<div class="accordion" id="accordionExample">
    <div class="card" *ngFor="let docente of docentes;let i = index">
        <div class="card-header bg-secondary" id=" headingOne">
            <h5 class="mb-0">
                <button attr.name="docente" class="btn btn-link text-white" type="button" data-toggle="collapse"
                    attr.data-target="#docente{{i}}" aria-expanded="true" aria-controls="collapseOne">
                    {{docente.apellido}} {{docente.nombre}} <i class="fas fa-chevron-circle-down"> </i>
                    <span class="badge badge-warning ml-1">{{docente.cargas_horarias.length}}</span>
                </button>
            </h5>
        </div>

        <div id="docente{{i}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
            <div class="card-body">
                <button (click)="fijarDocentePeriod(docente)" data-toggle="modal" data-target=".bd-example-modal-xl"
                    class="btn btn-sm btn-info">
                    <i class="fas fa-plus"> Asignar Materias</i>
                </button>

                <form>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Asignatura</th>
                                <th>Paralelo</th>
                                <th>Ciclo</th>
                                <th>Carrera</th>
                                <th>Eliminar</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let carga of docente.cargas_horarias">
                                <td>{{carga.asignatura.nombre}}</td>
                                <td>{{carga.paralelo.nombre}}</td>
                                <td>{{carga.asignatura.ciclo.nombre}}</td>
                                <td>{{carga.asignatura.ciclo.carrera.nombre}}</td>
                                <button class="btn btn-danger btn-sm" (click)="eliminarAsignatura(carga,docente)"> <i
                                        class="fas fa-times-circle"></i></button>
                            </tr>

                        </tbody>
                    </table>
                    <button class="btn btn-success" (click)="distributivo.id ?editar(docente): guardar(docente)">
                        <i class="fas fa-download"></i>
                        Guardar
                    </button>
                </form>
            </div>

        </div>
    </div>
</div>



<app-modal-asignacion (cargasEnviar)="recibirCargaModal($event)"></app-modal-asignacion>